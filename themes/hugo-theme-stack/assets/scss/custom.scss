@import "aplayer-light.scss";
@import "aplayer-dark.scss";

#dark-mode-toggle {
    margin-bottom: 60px;
}

@media (min-width: 1024px) {
    .article-list--compact {
        display: grid;
        grid-template-columns: 1fr 1fr;
        background: none;
        box-shadow: none;
        gap: 1rem;

        article {
            background: var(--card-background);
            border: none;
            box-shadow: var(--shadow-l2);
            margin-bottom: 8px;
            margin-right: 8px;
            border-radius: 16px;
            /* æ–°å¢æ‚¬åœæ•ˆæœç›¸å…³ä»£ç  */
            transform-origin: center;
            /* è®¾ç½®å˜æ¢åŸç‚¹ä¸ºä¸­å¿ƒ */
            transition: transform 0.2s ease-in-out;
            /* æ·»åŠ è¿‡æ¸¡åŠ¨ç”» */
            position: relative;
            /* ä¸ºz-indexç”Ÿæ•ˆ */
            z-index: 1;
            /* é˜²æ­¢æ”¾å¤§æ—¶è¢«å…¶ä»–å…ƒç´ é®æŒ¡ */

            &:hover {
                transform: scale(1.03);
                /* æ”¾å¤§æ¯”ä¾‹ */
                z-index: 2;
                /* æ‚¬åœæ—¶ç½®äºä¸Šå±‚ */
            }
        }
    }
}

.highlight {
    border-radius: var(--card-border-radius);
    max-width: 100% !important;
    margin: 0 !important;
    box-shadow: var(--shadow-l1) !important;
}

.highlight:before {
    content: "";
    display: block;
    background: url(../icons/macOS-code-header.svg) no-repeat 0;
    background-size: contain;
    height: 18px;
    margin-top: -10px;
    margin-bottom: 10px;
}

// ã€Stackä¸»é¢˜é¼ æ ‡æ ·å¼å†™æ³•ã€‘
// defaultå…‰æ ‡å›¾ç‰‡
body,
html,
.article-content img {
    cursor: url(../mouse/pointer.png),
        auto !important;
}

// pointerå…‰æ ‡å›¾ç‰‡
a:hover,
button:hover,
.copyCodeButton:hover,
#dark-mode-toggle {
    cursor: url(../mouse/link.png),
        auto;
}

// textå…‰æ ‡å›¾ç‰‡
input:hover,
.site-description,
.article-subtitle span,
.article-content span,
.article-content li,
.article-content p {
    cursor: url(../mouse/text.png),
        auto;
}

@mixin hover-elevate-effect {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
    transition:
        transform 0.4s cubic-bezier(0.22, 0.61, 0.36, 1),
        filter 0.3s linear,
        box-shadow 0.3s ease;

    &:hover {
        transform: scale(1.06) translateZ(4px) translateY(-2px);
        filter: drop-shadow(1px 2px 6px rgba(0, 0, 0, 0.1)) brightness(1.02);
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
    }

    // æ–°å¢ç‚¹å‡»åŠ¨ç”»
    &:active {
        transform: scale(0.96) translateZ(2px) translateY(1px); // ğŸ“Œ æŒ‰å‹ç¼©å°æ•ˆæœ
        filter: drop-shadow(1px 1px 3px rgba(0, 0, 0, 0.08)) brightness(0.98); // ğŸ“Œ é™ä½äº®åº¦
        transition:
            transform 0.2s cubic-bezier(0.87, 0, 0.13, 1), // ğŸ“Œ æ›´å¿«çš„æŒ‰å‹åŠ¨ç”»
            filter 0.15s linear;
    }
}

.article-category {
    a {
        @include hover-elevate-effect;
        transition-delay: 0.02s; // ç»Ÿä¸€å»¶è¿Ÿ
        padding: 0.5em 1.1em;
        border-radius: 0.38em;
    }
}

/*â”â” å¯¼èˆªèœå•æ‚¬åœåŠ¨ç”» â”â”*/
#main-menu {

    // èœå•é¡¹åŸºç¡€æ ·å¼
    li:not(.menu-bottom-section)>a {
        position: relative;
        transition:
            transform 0.4s cubic-bezier(0.22, 0.61, 0.36, 1),
            color 0.3s ease;

        // å›¾æ ‡ä¸æ–‡å­—å®¹å™¨
        >svg,
        >span {
            transition:
                transform 0.3s ease,
                opacity 0.2s linear;
        }

        // å›¾æ ‡åŠ¨ç”»
        >svg {
            transform: translateY(0);
        }

        // æ–‡å­—åŠ¨ç”»
        >span {
            display: inline-block;
            transform: translateY(0);
        }

        // æ‚¬åœçŠ¶æ€
        &:hover {
            color: var(--accent-color) !important;

            // å›¾æ ‡ä¸Šæµ®å¹¶æ”¾å¤§
            >svg {
                transform: translateY(-3px) rotateZ(2deg) scale(1.05);
                filter: drop-shadow(0 2px 4px rgba(var(--accent-color-rgb), 0.3));
            }

            // æ–‡å­—ä¸Šç§»å¹¶æ”¾å¤§
            >span {
                transform: translateY(-3px) scale(1.05);
                text-shadow: 0 2px 4px rgba(var(--accent-color-rgb), 0.3);
            }
        }

        &:active {
            transform: translateY(6px); // æ¯”ç‚¹å‡»çŠ¶æ€å¤š3px
        }
    }

    // å½“å‰é€‰ä¸­é¡¹ä¼˜åŒ–
    .current>a {
        &::after {
            background: var(--accent-color) !important;
            opacity: 0.8;
        }
    }
}

/* åŸå§‹é€šç”¨æ•ˆæœï¼ˆæ‰€æœ‰é¡µé¢ç”Ÿæ•ˆï¼‰ */
.article-image img {
    transition: transform 0.4s cubic-bezier(0.45, 0.05, 0.55, 0.95);
    transform-origin: center;
    will-change: transform;
}

a[data-pjax-state]:hover img {
    transform: scale(1.036);
    filter: brightness(1.005);
}

/* ç‰¹å®šé¡µé¢ç¦ç”¨æ•ˆæœï¼ˆä»… article-page é¡µé¢ç”Ÿæ•ˆï¼‰ */
body.article-page .article-image img {
    transition: none !important;
    /* å¼ºåˆ¶ç¦ç”¨åŠ¨ç”» */
    transform: none !important;
    /* æ¸…é™¤é»˜è®¤ç¼©æ”¾ */
    will-change: auto !important;
    /* ç§»é™¤æ€§èƒ½ä¼˜åŒ– */
    filter: none !important;
    /* æ¸…é™¤äº®åº¦æ»¤é•œ */
}

body.article-page .article-image:hover img,
body.article-page a[data-pjax-state]:hover img {
    transform: none !important;
    /* å¼ºåˆ¶æ‚¬åœæ—¶æ— ç¼©æ”¾ */
    filter: none !important;
    /* å¼ºåˆ¶æ‚¬åœæ—¶æ— äº®åº¦å˜åŒ– */
}

.archives-year a {
    display: inline-block;
    /* å¿…é¡»è®¾ç½®ä¸ºå—çº§æ‰èƒ½åº”ç”¨transform */
    transition: transform 0.2s ease;
    transform-origin: center;
    /* æ ¹æ®æ’ç‰ˆé€‰æ‹©å˜æ¢åŸç‚¹ */

    &:hover {
        transform: scale(1.036);

        /* å¯é€‰æ–‡å­—é¢œè‰²å˜åŒ– */
        .year,
        .count {
            color: var(--primary-color);
        }
    }

    .year,
    .count {
        transition: color 0.2s ease;
        /* æ–‡å­—é¢œè‰²è¿‡æ¸¡ */
    }
}

.running-time {
    color: var(--card-text-color-secondary);
    font-weight: normal;
}

#runningdays,
#articleCount {
    font-weight: bold;
    color: var(--emphasize-text-color);
}

.site-avatar {
    position: relative;
    display: inline-block;
    width: 300px;
    height: 300px;

    a {
        display: block;
        overflow: hidden;
        border-radius: 50%;
        width: 100%;
        height: 100%;
        /* ä¿æŒåŸæœ‰åœ†å½¢è£å‰ª */
    }

    .site-logo {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.4s cubic-bezier(0.45, 0.05, 0.55, 0.95);
        /* åŒæ­¥å‚æ•° */
        transform-origin: center;
        /* ä¸­å¿ƒç¼©æ”¾ */
        will-change: transform;
    }

    /* è¡¨æƒ…ç¬¦å·å®šä½ä¿æŒå¤–éƒ¨ */
    .emoji {
        position: absolute;
        bottom: -10px;
        right: -10px;
        z-index: 2;
        font-size: 2em;
        pointer-events: none;
    }

    /* åŒæ­¥æ‚¬åœæ•ˆæœ */
    &:hover .site-logo {
        transform: scale(1.036);
        /* ç²¾ç¡®åŒ¹é…ç¼©æ”¾å€¼ */
        filter: brightness(1.005);
        /* åŒæ­¥äº®åº¦å¾®è°ƒ */
    }

    /* å¯é€‰ï¼šå¦‚æœéœ€è¦ä¿æŒç‚¹å‡»åé¦ˆ */
    &:active .site-logo {
        transform: scale(0.98);
        transition-duration: 0.2s;
    }
}